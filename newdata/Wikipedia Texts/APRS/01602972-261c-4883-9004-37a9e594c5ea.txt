Automatic Packet Reporting System

Automatic Packet Reporting System (APRS) is an amateur radio-based system for real time digital communications of information of immediate value in the local area.  Data can include object Global Positioning System (GPS) coordinates, weather station telemetry, text messages, announcements, queries, and other telemetry. APRS data can be displayed on a map, which can show stations, objects, tracks of moving objects, weather stations, search and rescue data, and direction finding data.
APRS data is typically transmitted on a single shared frequency (depending on country) to be repeated locally by area relay stations (digipeaters) for widespread local consumption. In addition, all such data are typically ingested into the APRS Internet System (APRS-IS) via an Internet-connected receiver (IGate) and distributed globally for ubiquitous and immediate access.  Data shared via radio or Internet are collected by all users and can be combined with external map data to build a shared live view.
APRS has been developed since the late 1980s by Bob Bruninga, call sign WB4APR, currently a senior research engineer at the United States Naval Academy. He still maintains the main APRS Web site. The initialism "APRS" was derived from his call sign.


== History ==
Bob Bruninga, a senior research engineer at the United States Naval Academy, implemented the earliest ancestor of APRS on an Apple II computer in 1982. This early version was used to map high frequency Navy position reports. The first use of APRS was in 1984, when Bruninga developed a more advanced version on a Commodore VIC-20 for reporting the position and status of horses in a 100-mile (160 km) endurance run.During the next two years, Bruninga continued to develop the system, which he now called the Connectionless Emergency Traffic System (CETS). Following a series of Federal Emergency Management Agency (FEMA) exercises using CETS, the system was ported to the IBM Personal Computer. During the early 1990s, CETS (then known as the Automatic Position Reporting System) continued to evolve into its current form.
As GPS technology became more widely available, "Position" was replaced with "Packet" to better describe the more generic capabilities of the system and to emphasize its uses beyond mere position reporting.


== Network overview ==
APRS (Automatic Packet Reporting System), is a digital communications protocol for exchanging information among a large number of stations covering a large (local) area, often referred to as "IP-ers". As a multi-user data network, it is quite different from conventional packet radio. Rather than using connected data streams where stations connect to each other and packets are acknowledged and retransmitted if lost, APRS operates entirely in an unconnected broadcast fashion, using unnumbered AX.25 frames.APRS packets are transmitted for all other stations to hear and use. Packet repeaters, called digipeaters, form the backbone of the APRS system, and use store and forward technology to retransmit packets. All stations operate on the same radio channel, and packets move through the network from digipeater to digipeater, propagating outward from their point of origin. All stations within radio range of each digipeater receive the packet. At each digipeater, the packet path is changed. The packet will only be repeated through a certain number of digipeaters — or hops — depending upon the all-important "PATH" setting.
Digipeaters keep track of the packets they forward for a period of time, thus preventing duplicate packets from being retransmitted. This keeps packets from circulating in endless loops inside the ad-hoc network. Eventually, most packets are heard by an APRS Internet Gateway, called an IGate, and the packets are routed on to the Internet APRS backbone (where duplicate packets heard by other IGates are discarded) for display or analysis by other users connected to an APRS-IS server, or on a Web site designed for the purpose.
While it would seem that using unconnected and unnumbered packets without acknowledgment and retransmission on a shared and sometimes congested channel would result in poor reliability due to a packet being lost, this is not the case, because the packets are transmitted (broadcast) to everyone and multiplied many times over by each digipeater. This means that all digipeaters and stations in range get a copy, and then proceed to broadcast it to all other digipeaters and stations within their range. The end result is that packets are multiplied more than they are lost. Therefore, packets can sometimes be heard some distance from the originating station. Packets can be digitally repeated tens of kilometers or even hundreds of kilometers, depending on the height and range of the digipeaters in the area.
When a packet is transmitted, it is duplicated many times as it radiates out, taking all available paths simultaneously, until the number of "hops" allowed by the path setting is consumed.


== Positions/objects/items ==

APRS contains a number of packet types, including position/object/item, status, messages, queries, weather reports and telemetry. The position/object/item packets contain the latitude and longitude, and a symbol to be displayed on the map, and have many optional fields for altitude, course, speed, radiated power, antenna height above average terrain, antenna gain, and voice operating frequency. Positions of fixed stations are configured in the APRS software. Moving stations (portable or mobile) automatically derive their position information from a GPS receiver connected to the APRS equipment.The map display uses these fields to plot communication range of all participants and facilitate the ability to contact users during both routine and emergency situations. Each position/object/item packet can use any of several hundred different symbols. Position/objects/items can also contain weather information or can be any number of dozens of standardised weather symbols. Each symbol on an APRS map can display many attributes, discriminated either by colour or other technique. These attributes are:

Moving or fixed
Dead-reckoned or old
Message capable or not
Station, object or item
Own object or other station object/item
Emergency, priority, or special


== Status/messages ==
The Status packet is free-field format that lets each station announce its current mission or application or contact information or any other information or data of immediate use to surrounding activities. The message packet can be used for point-to-point messages, bulletins, announcements or even email. Bulletins and Announcements are treated specially and displayed on a single "community Bulletin board". This community bulletin board is fixed size and all bulletins from all posters are sorted onto this display. The intent of this display is to be consistent and identical for all viewers so that all participants are seeing the same information at the same time. Since lines are sorted onto the display, then individual posters can edit, update, or delete individual lines of their bulletins at any time to keep the bulletin board up-to-date to all viewers.
All APRS messages are delivered live in real-time to online recipients. Messages are not stored and forwarded, but retried until timed out. The delivery of these messages is global, since the APRS-IS distributes all packets to all other IGates in the world and those that are messages will actually go back to RF via any IGate that is near the intended recipient.
A special case message can be sent to EMAIL and these messages are pulled off the real-time APRS-IS by the WU2Z Email engine and wrapped into a standard Internet Email protocol and forwarded into regular Internet email.


== Capabilities ==
In its simplest implementation, APRS is used to transmit real-time data, information and reports of the exact location of a person or object via a data signal sent over amateur radio frequencies. In addition to real-time position reporting capabilities using attached GPS receivers, APRS is also capable of transmitting a wide variety of data, including weather reports, short text messages, radio direction finding bearings, telemetry data, short e-mail messages (send only) and storm forecasts. Once transmitted, these reports can be combined with a computer and mapping software to show the transmitted data superimposed with great precision upon a map display.
While the map plotting is the most visible feature of APRS, the text messaging capabilities and local information distribution capabilities, combined with the robust network, should not be overlooked; the New Jersey Office of Emergency Management has an extensive network of APRS stations to allow text messaging between all of the county Emergency Operating Centers in the event of the failure of conventional communications.


== Technical information ==
In its most widely used form, APRS is transported over the AX.25 protocol using 1200-bit/s Bell 202 AFSK on frequencies located within the 2 meter amateur band.

Sample APRS VHF frequencies144.390 MHz — North America, Colombia, Chile, Indonesia, Malaysia, Thailand
144.575 MHz — New Zealand
144.640 MHz — Taiwan
144.660 MHz — Japan
144.800 MHz — South Africa, Europe, Russia
144.930 MHz — Argentina, Uruguay
145.175 MHz — Australia
145.570 MHz — Brazil
145.825 MHz — International Space Station
430.5125 MHz — Netherlands (UHF) (Phased out due to transition to 432.500 MHz.)
432.500 MHz  — Europe (UHF)An extensive digital repeater, or "digipeater," network provides transport for APRS packets on these frequencies. Internet gateway stations (IGates) connect the on-air APRS network to the APRS Internet System (APRS-IS), which serves as a worldwide, high-bandwidth backbone for APRS data. Stations can tap into this stream directly, and a number of databases connected to the APRS-IS allow Web-based access to the data as well as more advanced data-mining capabilities. A number of low-Earth orbiting satellites, including the International Space Station, are capable of relaying APRS data.


== Equipment settings ==
An APRS infrastructure comprises a variety of Terminal Node Controller (TNC) equipment put in place by individual amateur radio operators. This includes sound cards interfacing a radio to a computer, simple TNCs, and "smart" TNCs. The "smart" TNCs are capable of determining what has already happened with the packet and can prevent redundant packet repeating within the network.
Reporting stations use a method of routing called a "path" to broadcast the information through a network. In a typical packet network, a station would use a path of known stations such as "via n8xxx,n8ary."  This causes the packet to be repeated through the two stations before it stops. In APRS, generic call signs are assigned to repeater stations to allow a more automatic operation.


=== Recommended path ===
Throughout North America (and in many other regions) the recommended path for mobiles or portable stations is now WIDE1-1,WIDE2-1. Fixed Stations (homes, etc.) should not normally use a path routing if they do not need to be digitally repeated outside of their local area, otherwise a path of WIDE2-2 or less should be used as requirements dictate. This path reflects the routing of packets via the radio component of APRS, and fixed stations should carefully consider their choice of path routing. Any path selection for stations that do not require it contributes to congestion of the APRS frequency and may hinder other stations' reporting. Aircraft and balloon APRS stations should avoid beaconing with any path at altitude since digipeating may not be necessary due to their antenna height and likelihood of reaching multiple wide-ranging digipeaters and IGates. Mobile stations in congested areas or more populated areas may consider using only 1 hop (WIDE1-1), as there are usually enough Internet gateways nearby that no path routing is needed. One solution to the path selection is proportional pathing if the user's equipment is capable.


=== Old path ===
Early on, the widely accepted method of configuring stations was to enable the short-range stations to repeat packets requesting a path of "RELAY" and long-range stations were configured to repeat both "RELAY" and "WIDE" packets. This was accomplished by setting the station's MYALIAS setting to RELAY or WIDE as needed. This resulted in a path of RELAY,WIDE for reporting stations. However, there was no duplicate packet checking or alias substitution. This sometimes caused beacons to "ping pong" back and forth instead of propagating outwards from the source. This caused much interference. With no alias substitution, one couldn't tell which digipeaters a beacon had used.


=== New path ===
With the advent of the new "smart" TNCs, the stations that used to be "WIDE" became "WIDEn-N." This means a packet with a path of WIDE2-2 would be repeated through the first station as WIDE2-2, but the path will be modified (decremented) to WIDE2-1 for the next station to repeat. The packet stops being repeated when the "-N" portion of the path reaches "-0." This new protocol has caused the old RELAY and WIDE paths to become obsolete. Digi operators are being asked to re-configure fill-in "RELAY" stations to instead respond to WIDE1-1. This results in a new, more efficient path of WIDE1-1,WIDE2-1. While most of the world has adopted the "new WIDEn-N" settings, there is an ongoing debate in the UK about the subject.


== Available equipment ==
Radios are available that include a built-in AX.25 Terminal Node Controller and APRS software, and are capable of working with or without the need for an external GPS device. Common models are the mobile Kenwood TM-D700A, its replacement, the Kenwood TM-D710A and the handheld Kenwood TH-D7 series, which include the TH-D7A(G), the TH-D72, and the TH-D74, with the latter two having a built-in GPS receiver. Yaesu entered the APRS market with the VX-8R(G) handheld and FTM-350R mobile radio (no longer in production), and also offer the newer FT1DE/DR, FT2DE/DR and FT3DE/DR handhelds and FTM-400DE/DR mobile transceivers.

In the United Kingdom, Cross Country Wireless have an APRS TNC Digi Tracker with a plastic boxed board. Ideal for nestling on a vehicle parcel shelf or dashboard. Two DE-9 rear connectors allow radio and PC access. Available with/without an inbuilt GPS using the latest SiRF Star III architecture and a twenty satellite capability. Internal DIL switched for various uses and easy to set up. Resolution is to about one metre and capture time speedy, even from cold. It will digipeat too. Suits a handheld Tx and comes with a comprehensive manual by Chris G4HYG, the designer and supplier.
The HamHUD integrates a display for viewing the position of other stations and weather reports, and a means of sending and receiving APRS messages, and an interface for a GPS receiver. It started out in 1997 as a homebrew device, but more recently, kits have been available from time to time. It connects to a TNC which is in turn connected to a radio. The Alinco DR-135T is popular as the internally mounted T2-135 can be used with it, reducing the number of items that need to be connected together. SmartBeaconing was developed for the HamHUD by Tony Arnerich and Steve Bragg. Since it uses GPS data, it varies the beacon rate based on speed, and adds corner pegging. This reduces unnecessary traffic on the frequency. SmartBeaconing has been adopted by the TinyTrak and OpenTracker series of trackers, in a software update for the Kenwood TM-D710, and in the TH-D72 from its release. It is also available in the Yaesu VX-8DR/GR and FT1-DE/DR handhelds, and the FTM-350AE/AR and FTM-400DE/DR mobile transceivers.
RPC Electronics, LLC created the RTrak and combined an OpenTracker 1+ and a GPS receiver along with a low power transmitter in one package. The original units produced 500 mW, but the current version puts out 350. The latest family of RTraks include the RTrak-Mini a smaller version of the original containing similar hardware, but an increase to a 5W transmitter, the RTrak-Lite which is the same size of the Mini, but doesn't contain a transmitter, allowing the end user to use the power they require and add on a receiver for channel detection. They also have the RTrak-HAB an APRS tracker designed specifically for high altitude applications, such as high altitude balloons. RPC Electronics also has a third-party interface for the Kenwood D710 APRS control head. This interface allows any FM transceiver to be connected to the D710 head and utilize the APRS functions.
Byonics has introduced an all-in-one device combining a GPS receiver, TinyTrak controller and synthesized 2m radio called the Micro Trak AIO which requires no assembly by the user. Other products include; TinyTrack4, Microtrak line, and tinytrack3.
ArgentData now has a 5-Watt VHF Transceiver with Integrated Tracker2 in one compact package. With a non-display GPS receiver connected, the T2-301 can be used as a tracker. With compatible display-type GPS receiver, received position reports can be output as waypoints. With a Garmin Nuvi 350 GPS receiver connected, it can send and receive APRS messages as well as display other stations as waypoints. The Nuvi 350 can be used this way with a stand-alone Tracker 2 (OT2m) or connected to a T2-135 which mounts in an Alinco DR-135 radio. The T2-301 can also be used as a stand-alone digipeater. Other products include; The New USB Tracker, and OpenTracker+. ArgentData also manufactures an APRS radio shield for the Arduino.
The APRS SkyTracker is an APRS Beacon at 144.800 MHz which includes an 8 W RF Transmitter, programmable PIC & u-bloc GPS receiver all on one 72 mm × 56 mm PCB.
The BigRedBee GPS Transmitter is the smallest 2 meter frequency agile completely integrated APRS transmitter available. Output power is 6 watts from a supply voltage of just 7.5 volts. It also features on-board data recording that can be downloaded for later viewing via Google Earth. A 100mW 70 cm version is also available.
The HackRF, a Software Defined Radio, has an add on shield called the PortaPack. With the Havok firmware installed, APRS can be transmitted. However, the feature is still under development.
WX3in1 Plus 2.0 - APRS Advanced Digipeater/I-Gate allows generation of APRS data packets with information field defined by the user and sent in specified intervals. In this way, it is possible to send beacons, objects, weather and telemetry data. Weather station support, APRS-IS simple server.
PY5BK available two hardware projects (OpenHardware). The BravoDIGI which is a digipeater aprs AFSK 1200 bauds and the BravoTracker which is a portable Tracker also AFSK1200 with GPS NEO6. Both projects based on the ATMega328 (Arduino) processor, with simplified software configuration (very good for users who do not have programming experience).


== Related systems ==
The APRS protocol has been adapted and extended to support projects not directly related to its original purpose. The most notable of these are the FireNet and PropNET projects.

APRS FireNet is an Internet-based system using the APRS protocol and much of the same client software to provide fire fighting, earthquake, and weather information in much higher volume and detail than the traditional APRS system is capable of carrying.
PropNET uses the APRS protocol over AX.25 and PSK31 to study radio frequency propagation. PropNET "probes" transmit position reports, along with information on transmitter power, elevation, and antenna gain, at various frequencies to allow monitoring stations to detect changes in propagation conditions. It is based on ACDS, a special client program running under Microsoft Windows.
APRS Network Radio  A beta implementation is now available for users of network radios / PTT / POC devices. Dedicated server, developed by Marc Huyghebaert and Filip Everaert, can be found here: https://nraprs.be/  More information can be found on the Network Radio Facebook pages at: https://www.facebook.com/groups/747365082123751/


== See also ==
APRS Calling
Automatic identification system—position reporting system used for marine traffic
Spartan Packet Radio Experiment—an experiment intended to test the tracking of satellites via amateur packet radio, flown on Space Shuttle mission STS-72.
Traffic collision avoidance system (TCAS)


== References ==


== Further reading ==
Stan Horzepa, WA1LOU (1999). APRS Tracks, Maps and Mobiles. American Radio Relay League . ISBN 978-0-87259-774-7.


== External links ==
www.aprs.org — Automatic Packet Reporting System site
Automatic Packet Reporting System at Curlie
findU is a database archiving weather, position, telemetry, and message data.
aprs.fi — Google Map-based tracking/mapping
www.pinpointaprs.com — A free Windows based desktop APRS client with built-in mapping.
https://nraprs.be/  Beta APRS system / server for Network Radio users